---
output-file: index.html
title: "Patient movements in the Victorian hospital system: does time matter?"
date: 2025-02-03
author:
  - name: David Wu
    corresponding: true
    email: david.wu1@monash.edu 
institute: "Department of Econometrics and Business Statistics, Monash University"
footer: "ANZIAM 2025"
format:
  presentation-revealjs:
    css: styles.css
title-slide-attributes: 
  data-background-image: img/bg-10-clean.png
  # data-background-image: _extensions/quarto-monash/presentation/_images/background/bg-13.png
---

```{python}
from pathlib import Path
import polars as pl
import seaborn as sns
from matplotlib import pyplot as plt

basepath = Path.home() / "REPOS" / "echidna_network"
# sns.set()
sns.set_context("talk")
sns.set_style("white")
```

## Co-Authors
  - Tjibbe Donker, [Universit√§tsklinikum Freiburg]{style="color:grey;font-size:x-large" } 
  - Nic Geard, [University of Melbourne]{style="color:grey;font-size:x-large"} 
  - Andrew Stewardson, [Alfred Health]{style="color:grey;font-size:x-large"} 
  - Claire Gorrie, [Microbiological Diagnostic Unit Public Health Laboratory]{style="color:grey;font-size:x-large"} 
  - Ben Howden, [Microbiological Diagnostic Unit Public Health Laboratory]{style="color:grey;font-size:x-large"} 
  - Anton Peleg, [Alfred Health]{style="color:grey;font-size:x-large"} 
  - Yen Thon Teoh, [Victorian Department of Health]{style="color:grey;font-size:x-large"} 
  - Andrew Wilson, [SaferCare Victoria]{style="color:grey;font-size:x-large"} 
  - Ben Cooper, [University of Oxford]{style="color:grey;font-size:x-large"} 
  - Michael Lydeamore, [Monash University]{style="color:grey;font-size:x-large"} 


## Background

:::{.incremental}
- Carbapenemase-producing Enterobacterales (CPE) is a type of bacteria that live in the intestine, and is generally asymptomatic, but can cause a range of severe symptoms.
- More importantly, it is resistant to carbapenems, a class of "last-line-of-defense" antibiotic.
- Variants of CPE have been detected in ICUs in Victorian hospitals, including a strain exclusive to Victoria.
- Patients that are asymptomatically infected (colonised) can spread CPE and other antimicrobial-resistant infections between hospitals.
:::


<!-- ## {.standout .monash-bg-blue .center} -->
<!-- Movement of Individuals -->

## ECHIDNA

### Objectives

- Develop a surveillance tool for anti-microbial resistant (AMR) organisms
- Evaluate ways of controlling the spread of AMR

### Data

- Timestamped data of when patients are admitted to and discharged from a hospital.
- Spans about 10 years from the beginning of 2011 to the end of 2019.
- Selectively rich, administrative data.

## Components of a model 

1.  [Individual infection dynamics]{.fragment .semi-fade-out fragment-index=1}

2.  [Within-hospital infection dynamics]{.fragment .semi-fade-out fragment-index=1}

3.  Between-hospital movement 

## Characterising Movement
### Existing Approaches

Treat hospitals as nodes of a static network [@donker_patient_2010]


```{dot}
graph G {
  layout=circo
  overlap=false
  A -- B;
  B -- C;
  C -- D;
  B -- E;
  A -- D;
}
```

## Characterising Movement 

Patients tend to leave hospital, and sometimes return.

```{python}

readmit_df = pl.read_parquet(basepath / "concordant_networks/readmission_time.parquet")

fig, ax = plt.subplots(figsize=(16, 8))
sns.despine(ax=ax)

sns.scatterplot(readmit_df, x="readmission_time", y="count", ax=ax)
ax.set_xlabel("Inter-admission time (days)")
ax.set_xscale('asinh')
ax.set_xlim(-1e-1, None)
ax.set_xticks([0, 1.0, 10.0, 100.0])
ax.set_yscale('log')

```

<!-- 
Movement is charactersied by two processes: discharge from hospital and return to hospital
These two processes can be treated as roughly Poisson with some rate parameter
In the first case, we see that the distribution is relatively ???
In the case of return to hospital 

We note that in the static network, the time to return to hospital is modelled as a static value, if not a zero value.
-->


## Models of Movement


## Simulation Results


## Moving Forward

- Verification of results via analytical computation
  - Expected hitting time is related to the survival function, which is characterised by the forward equations

    $$\begin{gathered}\mathbb{E}[h_{ij}] = \int_0^\infty \left(S_{ij}(t)\right)^N dt \\ \frac{d}{dt} S_{ij}(t) = Q_i S_{ij}(t)\end{gathered}$$

- Modelling of infection dynamics / control schemes


## Reference List

::: {#refs}
:::